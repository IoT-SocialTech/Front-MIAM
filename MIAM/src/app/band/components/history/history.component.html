<div class="history-container">
  <div class="history-padding">
    <div class="history-header">
      <h2>Reports</h2>
      <button class="download-button" (click)="downloadReport()">Download report</button>
    </div>
    <mat-table [dataSource]="alerts" class="alerts-table" matSort>
      <!-- Fecha -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
        <mat-cell *matCellDef="let alert">{{ getDate(alert.generatedDate) }}</mat-cell>
      </ng-container>
  
      <!-- Hora -->
      <ng-container matColumnDef="hour">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Hour</mat-header-cell>
        <mat-cell *matCellDef="let alert">{{ getTime(alert.generatedDate) }}</mat-cell>
      </ng-container>
  
      <!-- Paciente -->
      <ng-container matColumnDef="patient">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Patient</mat-header-cell>
        <mat-cell *matCellDef="let alert">{{ alert.patientId }}</mat-cell>
      </ng-container>
  
      <!-- Tipo de Alerta -->
      <ng-container matColumnDef="alertType">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Report Type</mat-header-cell>
        <mat-cell *matCellDef="let alert">{{ getAlertType(alert.reportType) }}</mat-cell>
      </ng-container>
  
      <!-- DescripciÃ³n -->
      <ng-container matColumnDef="description">
        <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>
        <mat-cell *matCellDef="let alert">{{ alert.description }}</mat-cell>
      </ng-container>
  
      <!-- Cuidador -->
      <ng-container matColumnDef="caregiver">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Caregiver</mat-header-cell>
        <mat-cell *matCellDef="let alert">{{ alert.caregiver }}</mat-cell>
      </ng-container>
  
      <!-- Acciones -->
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
        <mat-cell *matCellDef="let alert">
          <mat-icon 
            class="info-icon" 
            (click)="openDialog(alert)" 
            role="button"
          > info </mat-icon>
        </mat-cell>
      </ng-container>
  
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  
    <!-- Paginador  -->
    <mat-paginator class="paginator" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
</div>
